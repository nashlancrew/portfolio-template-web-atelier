<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TEA | Portfolio Digital</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts (Syne e Inter) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Syne:wght@400;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!--Stylesheet-->
    <link rel="stylesheet" href="assets/css/style.css" />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body onload="init()">
    <!-- Cursor -->
    <div id="cursor"></div>

    <!-- Navegación -->
    <nav class="navbar fixed-top navbar-expand-md">
      <div class="container-fluid">
        <a class="navbar-brand hover-trigger fw-bold" href="#hero">
          MARÍA IGNACIA DAFONTE.</a
        >
        <button
          class="navbar-toggler hover-trigger"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          style="border: none; color: var(--text-main)"
        >
          <i class="fa-solid fa-bars fa-lg"></i>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav align-items-center p-3 p-md-0 rounded">
            <li class="nav-item">
              <a
                class="nav-link hover-trigger"
                href="#"
                data-lang="playground-link"
                onclick="activatePlayground(); return false;"
                >PLAYGROUND</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link hover-trigger"
                href="#about"
                data-lang="nav-about"
                >ABOUT</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link hover-trigger"
                href="#archive"
                data-lang="archive"
                >ARCHIVO</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link hover-trigger"
                href="#contact"
                data-lang="contact"
                >CONTACTO</a
              >
            </li>
            <li
              class="nav-item ms-md-4 d-flex align-items-center gap-3 mt-3 mt-md-0"
            >
              <button
                class="btn btn-sm hover-trigger navbar-btn"
                data-lang="dark-mode-toggle"
                onclick="toggleDarkMode()"
                title="Modo Oscuro"
              >
                <i class="fa-solid fa-circle-half-stroke fa-lg"></i>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Canvas Layer -->
    <canvas id="drawing-canvas"></canvas>
    <!-- Botón Flotante para Dibujar (eliminado) -->

    <!-- Botón Salir Playground -->
    <button
      id="exit-playground-btn"
      class="btn btn-sm btn-dark rounded-pill px-4 py-2 hover-trigger shadow"
      data-lang="salir-playground"
      onclick="exitPlayground()"
    >
      <i class="fa-solid fa-arrow-left me-2"></i> SALIR
    </button>

    <!-- UI: Tools -->
    <div class="tools-panel hidden" id="tools-panel">
      <div
        class="color-dot hover-trigger"
        style="background: #1a1a1a; border: 1px solid #ddd"
        onclick="setColor('#1A1A1A')"
      ></div>
      <div
        class="color-dot hover-trigger"
        style="background: #2b59c3"
        onclick="setColor('#2B59C3')"
      ></div>
      <div
        class="color-dot hover-trigger"
        style="background: #f4d35e"
        onclick="setColor('#F4D35E')"
      ></div>
      <div
        class="color-dot hover-trigger"
        style="background: #ff595e"
        onclick="setColor('#FF595E')"
      ></div>
      <div
        style="width: 1px; background: var(--border-color); margin: 0 5px"
      ></div>
      <i
        class="fa-solid fa-trash hover-trigger pt-1"
        style="color: var(--text-main)"
        onclick="clearCanvas()"
      ></i>
    </div>

    <!-- HERO -->
    <section id="hero">
      <div class="hero-text-container" id="hero-text">
        <h1 class="big-title" data-lang="big-title">
          HOLA,<br />SOY MARI<span id="tea-A">A</span>
        </h1>
        <div class="hero-subtitle" data-lang="hero-subtitle">
          Portfolio & Visual Playground
        </div>
      </div>

      <!-- Personaje Animado -->
      <div class="sticker-container">
        <img src="assets/images/sticker-base.png" class="capa base" />

        <img
          src="assets/images/sticker-ojos-abiertos.png"
          class="capa eyes-open"
        />

        <img
          src="assets/images/sticker-ojos-cerrados.png"
          class="capa eyes-wink"
        />
      </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" style="pointer-events: auto">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 mb-4">
            <h2
              class="display-4"
              data-lang="about-h2"
              style="
                font-family: var(--font-display);
                font-weight: 800;
                color: var(--text-main);
              "
            >
              HISTORIAS EN<br />CONSTANTE MOVIMIENTO
            </h2>
          </div>
          <div class="col-lg-4 offset-lg-1">
            <p class="lead" data-lang="about-body">
              Hola, soy Maria (Nash para abreviar). Diseñadora visual e
              ilustradora. Empece a hacer lo que hago porque amo contar
              historias. Este sitio esta hecho para exploar, jugar, y que puedas
              descubrir mi trabajo, ¿te animas a jugar con el?
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- ARCHIVE (HORIZONTAL SCROLL) -->
    <section id="archive">
      <div class="container-fluid p-0">
        <div class="container">
          <div class="row mb-5">
            <div class="col-12">
              <h2 class="section-title" data-lang="archive-title">
                ARCHIVO<span style="color: var(--accent)">.</span>
              </h2>
            </div>
          </div>
        </div>

        <div class="swipe-gallery-container" data-lenis-prevent>
          <div class="gallery-track" id="archive-gallery-track">
            <!-- Items injected by JS -->
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECT OVERLAY -->
    <div id="project-overlay" class="project-overlay" data-lenis-prevent>
      <button class="close-btn hover-trigger" onclick="closeProject()">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <div class="container py-5 mt-5">
        <div class="row">
          <div class="col-lg-8 mx-auto text-center mb-5">
            <span
              id="detail-year"
              class="badge rounded-pill text-bg-dark mb-3 px-3 py-2"
              >2024</span
            >
            <h1
              id="detail-title"
              class="display-2 data-lang mb-3"
              style="
                font-family: var(--font-display);
                font-weight: 800;
                color: var(--text-main);
              "
            >
              TITULO
            </h1>
            <p
              id="detail-category"
              class="text-muted text-uppercase letter-spacing-2"
              data-lang="category"
            >
              Categoría
            </p>
          </div>
          <div class="col-12 mb-5">
            <img
              id="detail-img"
              src=""
              class="w-100 object-fit-cover"
              style="height: 60vh; border-radius: 20px"
              alt="Project Image"
            />
          </div>
          <div class="col-lg-8 mx-auto pb-5">
            <h3
              class="mb-4"
              data-lang="about-project"
              style="font-family: var(--font-display); color: var(--text-main)"
            >
              SOBRE EL PROYECTO
            </h3>
            <p id="detail-desc" class="lead mb-5" data-lang="description">
              Descripción...
            </p>
            <div class="row g-4">
              <div class="col-md-6">
                <h5 style="color: var(--text-main)" data-lang="client">
                  CLIENTE
                </h5>
                <p id="detail-client" class="text-muted">Nombre Cliente</p>
              </div>
              <div class="col-md-6">
                <h5 style="color: var(--text-main)" data-lang="services">
                  SERVICIOS
                </h5>
                <p
                  id="detail-services"
                  class="text-muted"
                  data-lang="detail-services"
                >
                  Ilustración, Dirección de Arte
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- WIDGET DE MÚSICA -->
    <div id="music-widget" class="hover-trigger">
      <!-- Reproductor CD -->
      <div class="cd-player" onclick="toggleMusic()" title="Play/Pause">
        <div class="cd-disk">
          <div class="cd-center"></div>
          <div class="cd-art"></div>
        </div>
        <!-- Iconos de control -->
        <i class="fa-solid fa-play" id="play-icon"></i>
        <i class="fa-solid fa-pause" id="pause-icon" style="display: none"></i>
      </div>

      <!-- Botón Spotify -->
      <a
        href="https://open.spotify.com/playlist/TU_PLAYLIST_ID"
        target="_blank"
        class="spotify-btn hover-trigger"
        title="Ver en Spotify"
      >
        <i class="fa-brands fa-spotify"></i>
      </a>

      <!-- Audio (Pon aquí tu canción) -->
      <audio id="audio-player" loop>
        <source
          src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3"
          type="audio/mp3"
        />
      </audio>
      <div>
        <div id="lang-widget">
          <!-- Botón Principal (Primero) -->
          <button
            id="lang-toggle-btn"
            class="hover-trigger"
            onclick="toggleLangMenu()"
          >
            <i class="fa-solid fa-globe"></i>
          </button>

          <!-- Menú Oculto (Segundo, sale a la derecha) -->
          <div id="lang-menu">
            <button
              class="lang-option hover-trigger selected"
              onclick="setLanguage('es')"
            >
              ES
            </button>
            <button
              class="lang-option hover-trigger"
              onclick="setLanguage('en')"
            >
              EN
            </button>
            <button
              class="lang-option hover-trigger"
              onclick="setLanguage('nl')"
            >
              NL
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- FOOTER & CONTACT -->
    <footer id="contact">
      <div class="container">
        <h2
          class="display-3 mb-4"
          data-lang="lets-talk"
          style="font-family: var(--font-display); font-weight: 800"
        >
          HABLEMOS
        </h2>
        <button
          class="contact-dropdown-btn hover-trigger on-dark-trigger"
          data-lang="start-project"
          onclick="toggleContactForm(this)"
        >
          <span>INICIAR PROYECTO</span>
          <i class="fa-solid fa-chevron-down"></i>
        </button>
        <div class="contact-form-container text-start">
          <form onsubmit="event.preventDefault(); alert('Mensaje enviado!');">
            <div class="mb-4">
              <label class="small text-white-50 mb-2" data-lang="name"
                >NOMBRE</label
              >
              <input
                type="text"
                class="form-control form-control-custom hover-trigger on-dark-trigger"
                placeholder="Tu nombre"
                required
              />
            </div>
            <div class="mb-4">
              <label class="small text-white-50 mb-2" data-lang="email"
                >EMAIL</label
              >
              <input
                type="email"
                class="form-control form-control-custom hover-trigger on-dark-trigger"
                placeholder="tu@email.com"
                required
              />
            </div>
            <div class="mb-4">
              <label class="small text-white-50 mb-2" data-lang="message"
                >MENSAJE</label
              >
              <textarea
                class="form-control form-control-custom hover-trigger on-dark-trigger"
                data-lang="idea-info"
                rows="3"
                placeholder="Cuéntame sobre tu idea..."
                required
              ></textarea>
            </div>
            <div class="text-center mt-5">
              <button
                type="submit"
                class="btn btn-light rounded-pill px-5 py-3 hover-trigger on-dark-trigger fw-bold"
                data-lang="send-message"
              >
                ENVIAR
              </button>
            </div>
          </form>
        </div>
        <div class="mt-5 social-links pt-5 border-top border-white-50">
          <a href="#" class="text-white mx-3 hover-trigger on-dark-trigger"
            ><i class="fa-brands fa-instagram fa-xl"></i
          ></a>
          <a href="#" class="text-white mx-3 hover-trigger on-dark-trigger"
            ><i class="fa-brands fa-behance fa-xl"></i
          ></a>
        </div>
        <p class="mt-4 text-white-50 small" data-lang="copyright-rights">
          &copy; 2025 TEA. Todos los derechos reservados.
        </p>
      </div>
    </footer>
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js" defer></script>
    <script>
      // --- 1. LÓGICA DE IDIOMA ---
      const translations = {
        es: {
          "playground-link": "PLAYGROUND",
          "nav-about": "ABOUT",
          archive: "ARCHIVO",
          contact: "CONTACTO",
          "dark-mode-toggle":
            "<i class='fa-solid fa-circle-half-stroke fa-lg'></i>",
          "big-title": "HOLA,<br />SOY MARI<span id='tea-A'>A</span>",
          "hero-subtitle": "Portfolio & Visual Playground",
          "about-h2": "HISTORIAS EN<br />MOVIMIENTO",
          "about-body":
            "Hola, soy Maria. Diseñadora visual e ilustradora, ubicada en Madrid. Empece a hacer lo que hago porque amo contar historias. Este sitio esta hecho para explorar, jugar, y que puedas descubrir mi trabajo, ¿te animas a jugar con el?",
          "archive-title": "ARCHIVO<span style='color: var(--accent)'>.</span>",
          "salir-playground":
            "<i class='fa-solid fa-arrow-left me-2'></i> SALIR",
          category: "Categoría",
          "about-project": "SOBRE EL PROYECTO",
          description: "Descripción...",
          client: "CLIENTE",
          services: "SERVICIOS",
          "detail-services": "Ilustración, Dirección de Arte",
          "lets-talk": "HABLEMOS",
          "start-project":
            "<span>INICIAR PROYECTO</span><i class='fa-solid fa-chevron-down'></i>",
          name: "NOMBRE",
          email: "EMAIL",
          message: "MENSAJE",
          "idea-info": "Cuéntame sobre tu idea...",
          "send-message": "ENVIAR",
          "copyright-rights": "&copy; 2025 TEA. Todos los derechos reservados.",
        },
        en: {
          "playground-link": "PLAYGROUND",
          "nav-about": "ABOUT",
          archive: "ARCHIVE",
          contact: "CONTACT",
          "dark-mode-toggle":
            "<i class='fa-solid fa-circle-half-stroke fa-lg'></i>",
          "big-title": "HELLO, I'M<br />MARI<span id='tea-A'>A</span>",
          "hero-subtitle": "Portfolio & Visual Playground",
          "about-h2": "STORIES IN<br />MOTION",
          "about-body":
            "Hi, I'm Maria. Visual designer and illustrator based in Madrid. I started doing what I do because I love telling stories. This site is made to explore, play, and let you discover my work. Do you want to play with it?",
          "archive-title": "ARCHIVE<span style='color: var(--accent)'>.</span>",
          "salir-playground":
            "<i class='fa-solid fa-arrow-left me-2'></i> EXIT",
          category: "Category",
          "about-project": "ABOUT THE PROJECT",
          description: "Description...",
          client: "CLIENT",
          services: "SERVICES",
          "detail-services": "Illustration, Art Direction",
          "lets-talk": "LET'S TALK",
          "start-project":
            "<span>START PROJECT</span><i class='fa-solid fa-chevron-down'></i>",
          name: "NAME",
          email: "EMAIL",
          message: "MESSAGE",
          "idea-info": "Tell me about your idea...",
          "send-message": "SEND",
          "copyright-rights": "&copy; 2025 TEA. All rights reserved.",
        },
        nl: {
          "playground-link": "PLAYGROUND",
          "nav-about": "OVER MIJ",
          archive: "ARCHIEF",
          contact: "CONTACT",
          "dark-mode-toggle":
            "<i class='fa-solid fa-circle-half-stroke fa-lg'></i>",
          "big-title": "HALLO,<br />IK BEN MARI<span id='tea-A'>A</span>",
          "hero-subtitle": "Portfolio & Visuele Speelplaats",
          "about-h2": "VERHALEN IN<br />BEWEGING",
          "about-body":
            "Hoi, ik ben Maria. Visueel ontwerper en illustrator, gevestigd in Madrid. Ik ben begonnen met wat ik doe omdat ik van verhalen vertellen houd. Deze site is gemaakt om te ontdekken, te spelen en mijn werk te leren kennen. Doe je mee?",
          "archive-title": "ARCHIEF<span style='color: var(--accent)'>.</span>",
          "salir-playground":
            "<i class='fa-solid fa-arrow-left me-2'></i> TERUG",
          category: "Categorie",
          "about-project": "OVER HET PROJECT",
          description: "Beschrijving...",
          client: "KLANT",
          services: "DIENSTEN",
          "detail-services": "Illustratie, Art Direction",
          "lets-talk": "LATEN WE PRATEN",
          "start-project":
            "<span>START PROJECT</span><i class='fa-solid fa-chevron-down'></i>",
          name: "NAAM",
          email: "E-MAIL",
          message: "BERICHT",
          "idea-info": "Vertel me over je idee...",
          "send-message": "VERZENDEN",
          "copyright-rights": "&copy; 2025 TEA. Alle rechten voorbehouden.",
        },
      };
      const translations404 = {
        es: {
          "error-msg": "Te has salido del lienzo",
          "btn-home":
            "<i class='fa-solid fa-arrow-left me-2'></i> VOLVER AL ESTUDIO",
        },
        en: {
          "error-msg": "You've gone off the canvas",
          "btn-home":
            "<i class='fa-solid fa-arrow-left me-2'></i> BACK TO STUDIO",
        },
        nl: {
          "error-msg": "Je bent buiten het canvas getreden",
          "btn-home":
            "<i class='fa-solid fa-arrow-left me-2'></i> TERUG NAAR STUDIO",
        },
      };

      let currentLang = "es";

      function toggleLangMenu() {
        document.getElementById("lang-widget").classList.toggle("active");
      }

      // Apply translations for the main index (uses `translations`)
      function setLanguage(lang) {
        currentLang = lang;

        document.querySelectorAll(".lang-option").forEach((btn) => {
          btn.classList.remove("selected");
          if (btn.innerText.toLowerCase() === lang)
            btn.classList.add("selected");
        });

        document.querySelectorAll("[data-lang]").forEach((el) => {
          const key = el.getAttribute("data-lang");
          if (translations[currentLang] && translations[currentLang][key]) {
            el.innerHTML = translations[currentLang][key];
          }
        });

        // Refresh gallery and project detail if those functions exist
        if (typeof window.renderArchive === "function") window.renderArchive();
        if (typeof window.updateOpenProjectContent === "function")
          window.updateOpenProjectContent();
        if (typeof window.scheduleStickerRelayout === "function")
          window.scheduleStickerRelayout();
        else if (typeof window.positionStickerOnTeaA === "function")
          window.positionStickerOnTeaA();

        toggleLangMenu();
      }

      // Initialize page language on load
      setLanguage(currentLang);
    </script>
  </body>
</html>
